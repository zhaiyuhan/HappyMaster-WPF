<fw:AcrylicWindow 
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:system="clr-namespace:System;assembly=mscorlib"
    xmlns:fw="clr-namespace:SourceChord.FluentWPF;assembly=FluentWPF"
    xmlns:shell="http://schemas.microsoft.com/netfx/2009/xaml/presentation"
    fw:AcrylicWindow.Enabled="True"
    fw:AcrylicWindowStyle="None"
    mc:Ignorable="d"
    x:Class="FramelessWPF.MainWindow"
    Title="HappyMaster" 
    SnapsToDevicePixels="True" 
    Height="768" 
    Width="1024"
    MinHeight="768" 
    MinWidth="1024" 
    WindowStartupLocation="CenterScreen" 
    Loaded="Window_Loaded"     
    SizeChanged="Window_SizeChanged"
    WindowStyle="SingleBorderWindow" 
    BorderBrush="Transparent"
    >
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="1" GlassFrameThickness="1" />
    </WindowChrome.WindowChrome>
    <Window.TaskbarItemInfo>
        <TaskbarItemInfo x:Name="taskBarItemInfo1"                   
                     ThumbnailClipMargin="80,0,80,140"
                     Description="Taskbar Item Info Sample">
            <TaskbarItemInfo.ThumbButtonInfos>
                <ThumbButtonInfoCollection>
                    <ThumbButtonInfo x:Name="btnPreviewForTaskBar"
                    CommandTarget="{Binding ElementName=btnPlay}"
                    Description="Preview" Click="BtnPreviewForTaskBar_Click"
                    />
                    <ThumbButtonInfo x:Name="btnPlayForTaskBar"
                    CommandTarget="{Binding ElementName=btnStop}"
                    Description="Play/Pause" Click="BtnPlayForTaskBar_Click"
                    />
                    <ThumbButtonInfo x:Name="btnNextForTaskBar"
                                     Description="Next"
                        />
                </ThumbButtonInfoCollection>
            </TaskbarItemInfo.ThumbButtonInfos>
        </TaskbarItemInfo>
    </Window.TaskbarItemInfo>
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Defaults.xaml" />
                <ResourceDictionary Source="Thems/DMTabControl.xaml"/>
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.PopupBox.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Light.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignColors;component/Themes/Recommended/Primary/MaterialDesignColor.Blue.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignColors;component/Themes/Recommended/Accent/MaterialDesignColor.Lime.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>
    <Grid Background="Transparent">
        <Grid.RowDefinitions>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0" Background="Transparent">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="119*"/>
                <ColumnDefinition Width="135*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition MaxHeight="25"/>
                <RowDefinition MaxHeight="70"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <materialDesign:DialogHost x:Name="dig_ifCreatStream" DialogClosing="DialogHost_DialogClosing" 
                                       HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Column="1" Margin="32,273,508,369" Grid.Row="2"
                                       >
                <materialDesign:DialogHost.DialogContent>
                    <StackPanel Margin="16">
                        <TextBlock VerticalAlignment="Center">当前无播放流</TextBlock>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" >
                            <Button Style="{StaticResource MaterialDesignFlatButton}"
                                        IsDefault="True"
                                        Margin="0 8 8 0"
                                        Command="materialDesign:DialogHost.CloseDialogCommand" 
                                    Foreground="#FF2687FB">
                                <Button.CommandParameter>
                                    <system:Boolean>True</system:Boolean>
                                </Button.CommandParameter>
                                添加流
                            </Button>
                            <Button Style="{StaticResource MaterialDesignFlatButton}"
                                        IsCancel="True"
                                        Margin="0 8 8 0"
                                        Command="materialDesign:DialogHost.CloseDialogCommand"
                                    Foreground="#FF2687FB">
                                <Button.CommandParameter>
                                    <system:Boolean>False</system:Boolean>
                                </Button.CommandParameter>
                                取消
                            </Button>
                        </StackPanel>
                    </StackPanel>
                </materialDesign:DialogHost.DialogContent>
            </materialDesign:DialogHost>
            <materialDesign:DialogHost x:Name="dig_Commander" DialogClosing="dig_Commander_DialogClosing" HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Column="1" Margin="32,273,508,369" Grid.Row="2">
                <materialDesign:DialogHost.DialogContent>
                    <StackPanel Margin="16">
                        <TextBlock VerticalAlignment="Center">命令行</TextBlock>
                        <TextBox Margin="0 8 0 0" HorizontalAlignment="Stretch" x:Name="TextBoxInputCommand" />
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" >

                            <Button Style="{StaticResource MaterialDesignFlatButton}"
                                        IsDefault="True"
                                        Margin="0 8 8 0"
                                        Command="materialDesign:DialogHost.CloseDialogCommand" 
                                    Foreground="#FF2687FB">
                                <Button.CommandParameter>
                                    <system:Boolean>True</system:Boolean>
                                </Button.CommandParameter>
                                确定
                            </Button>
                            <Button Style="{StaticResource MaterialDesignFlatButton}"
                                        IsCancel="True"
                                        Margin="0 8 8 0"
                                        Command="materialDesign:DialogHost.CloseDialogCommand"
                                    Foreground="#FF2687FB">
                                <Button.CommandParameter>
                                    <system:Boolean>False</system:Boolean>
                                </Button.CommandParameter>
                                取消
                            </Button>
                        </StackPanel>
                    </StackPanel>
                </materialDesign:DialogHost.DialogContent>
            </materialDesign:DialogHost>
            <materialDesign:DialogHost x:Name="dig_Error" DialogClosing="Dig_Error_DialogClosing"  HorizontalAlignment="Center" VerticalAlignment="Center" Grid.Column="1" Margin="32,273,508,369" Grid.Row="2">
                <materialDesign:DialogHost.DialogContent>
                    <StackPanel Margin="16">
                        <TextBlock VerticalAlignment="Center">请输入正确命令</TextBlock>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" >
                            <Button Style="{StaticResource MaterialDesignFlatButton}"
                                    VerticalAlignment="Center" HorizontalAlignment="Center"
                                        IsDefault="True"                                      
                                        Command="materialDesign:DialogHost.CloseDialogCommand" 
                                    Foreground="#FF2687FB" Margin="8,0,15,0">
                                <Button.CommandParameter>
                                    <system:Boolean>True</system:Boolean>
                                </Button.CommandParameter>
                                确定
                            </Button>
                        </StackPanel>
                    </StackPanel>
                </materialDesign:DialogHost.DialogContent>
            </materialDesign:DialogHost>
            <Menu x:Name="MainMenu" Grid.Row="0" Height="25" Background="#7FFFFFFF" VerticalAlignment="Top" Grid.ColumnSpan="2" MouseMove="MainMenu_MouseMove" MouseDown="MainMenu_MouseDown">
                <MenuItem Header="文件" Height="25">
                    <MenuItem x:Name="MenuItem_OpenFile" Header="打开" Click="MenuItem_OpenFile_Click" InputGestureText="Ctrl+O" 
                              CommandParameter="{Binding FileName}"
                              Command="{Binding AddCommand}"/>
                    <MenuItem x:Name="MenuItem_OpenCD" Header="打开CD" Click="MenuItem_OpenCD_Click"/>
                    <MenuItem x:Name="MenuItem_AddFile" Header="添加文件" InputGestureText="Ctrl+A"/>
                    <MenuItem x:Name="MenuItem_AddFloder" Header="添加文件夹" InputGestureText="Ctrl+Shift+A"/>
                    <MenuItem x:Name="MenuItem_AddCD" Header="载入光驱"/>
                    <Separator/>
                    <MenuItem x:Name="MenuItem_Exit" Header="退出" Background="#99FF0808" Click="MenuItem_Exit_Click" InputGestureText="Alt+E"/>
                </MenuItem>
                <MenuItem Header="编辑" Height="Auto">
                    <MenuItem x:Name="MenuItem_Play_Pause" Header="播放/暂停" Click="MenuItem_Play_Pause_Click" InputGestureText="空格"/>
                    <MenuItem x:Name="MenuItem_PlayFromStart" Header="从头播放" Click="MenuItem_PlayFromStart_Click"/>
                    <MenuItem x:Name="MenuItem_StopPlay" Header="停止播放" Click="MenuItem_StopPlay_Click"/>
                    <MenuItem Header="上一个"/>
                    <MenuItem Header="下一个"/>
                    <Separator/>
                    <MenuItem x:Name="MenuItem_CopyFile" Header="拷贝当前文件" Click="MenuItem_CopyFile_Click"/>
                    <MenuItem Header="拷贝当前文件至"/>
                    <MenuItem Header="循环播放当前项"/>
                    <Separator/>
                    <MenuItem x:Name="MenuItem_VolumeUp" Header="增大音量" Click="MenuItem_VolumeUp_Click"/>
                    <MenuItem x:Name="MenuItem_VolumeDown" Header="减小音量" Click="MenuItem_VolumeDown_Click"/>
                    <Separator/>
                    <MenuItem x:Name="MenuItem_OpenSettingsView" Header="首选项" Click="MenuItem_OpenSettingsView_Click"/>
                </MenuItem>
                <MenuItem Header="视图" Height="Auto">
                    <MenuItem x:Name="MenuItem_Commander" Header="命令行" Click="MenuItem_Commander_Click"/>
                    <MenuItem Header="格式转换"/>
                    <MenuItem Header="定时停止播放"/>
                    <MenuItem Header="定时关机"/>
                </MenuItem>
                <MenuItem Header="窗口" Height="Auto">
                    <MenuItem x:Name="MenuItem_MaxView" Header="最大化" Click="MenuItem_MaxView_Click"/>
                    <MenuItem x:Name="MenuItem_MinView" Header="最小化" Click="MenuItem_MinView_Click"/>
                    <MenuItem x:Name="MenuItem_CloseView" Header="关闭窗口" Click="MenuItem_CloseView_Click"/>
                    <MenuItem x:Name="MenuItem_ToggleTopMost" Header="窗口置前" Click="MenuItem_ToggleTopMost_Click" IsCheckable="True"/>
                </MenuItem>
                <MenuItem Header="帮助" Height="Auto">
                    <MenuItem Header="查看帮助"/>
                    <MenuItem Header="发送反馈"/>
                    <MenuItem Header="注册产品"/>
                    <MenuItem x:Name="MenuItem_About" Header="关于HappyMaster" Click="MenuItem_About_Click"/>
                </MenuItem>
            </Menu>
            <materialDesign:ColorZone Grid.Row="1" Mode="PrimaryDark"  Background="Transparent" Padding="0" CornerRadius="10" materialDesign:ShadowAssist.ShadowDepth="Depth2" Margin="5,5,5,0" Grid.ColumnSpan="2">
                <Grid Background="Transparent" MinHeight="70">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition MinWidth="200" MaxWidth="200"/>
                        <ColumnDefinition MinWidth="160" MaxWidth="160"/>
                        <ColumnDefinition Width="2*"/>
                        <ColumnDefinition MinWidth="200" MaxWidth="300"/>
                    </Grid.ColumnDefinitions>
                    <Grid Grid.Column="0" Margin="10,0" Background="Transparent">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Button Grid.Column="0" Margin="0,0,2,0" Foreground="#FF565656" Background="White" BorderBrush="Gainsboro">
                            <materialDesign:PackIcon Kind="SkipPrevious" />
                        </Button>
                        <Button Grid.Column="1" x:Name="btnPlay" Click="BtnPlay_Click" Margin="2,0" Background="White" Foreground="#FF565656" BorderBrush="Gainsboro">
                            <materialDesign:PackIcon x:Name="iconPlay" Kind="Play" />
                        </Button>
                        <Button Grid.Column="2" Margin="2,0,2,0" Background="White" Foreground="#FF565656" BorderBrush="Gainsboro">
                            <materialDesign:PackIcon Kind="SkipNext" />
                        </Button>
                    </Grid>
                    <Grid Grid.Column="1" Margin="0,0,0,10">
                        <Button x:Name="BtnchangeVolume" Style="{StaticResource MaterialDesignFlatButton}" Click="BtnchangeVolume_Click" Height="Auto" Margin="0,10,0,22" HorizontalAlignment="Left" Padding="0,5,0,9" Panel.ZIndex="1" Width="50">
                            <materialDesign:PackIcon x:Name="packicon_volumestate" Kind="VolumeHigh" Foreground="#FF2687FB" />
                        </Button>
                        <Button Height="42" Width="60" Style="{StaticResource MaterialDesignFlatButton}" Margin="50,10,5,14">
                            <Path Width="20" Height="20" Stretch="UniformToFill" Fill="#FF2687FB">
                                <Path.Data>
                                    <PathGeometry Figures="M160.384 387.872V32a32 32 0 0 0-64 0v355.84C41.056 402.112-0.032 452.288-0.032 512s41.088 109.888 96.416 124.192V992a32 32 0 0 0 64 0V636.16c55.296-14.304 96.32-64.448 96.32-124.16s-41.024-109.856-96.32-124.128z m-31.648 188.16L128.384 576l-0.416 0.064c-35.168-0.192-63.68-28.832-63.68-64.064s28.576-63.84 63.712-64.032l0.384 0.032 0.352-0.032c35.136 0.224 63.648 28.864 63.648 64.032s-28.512 63.808-63.648 64.032z m415.648 3.84V32a32 32 0 0 0-64 0v547.84c-55.328 14.272-96.384 64.448-96.384 124.16s41.088 109.888 96.384 124.192v163.84a32 32 0 0 0 64 0v-163.84a128.48 128.48 0 0 0 96.288-124.16 128.512 128.512 0 0 0-96.288-124.128z m-31.648 188.16L512.352 768l-0.416 0.064c-35.136-0.192-63.68-28.832-63.68-64.064s28.608-63.872 63.808-64.032l0.352 0.032 0.288-0.032c35.168 0.192 63.744 28.832 63.744 64.032s-28.544 63.808-63.68 64.032z m415.648-572.16V32a32 32 0 0 0-64 0v163.84c-55.328 14.272-96.384 64.448-96.384 124.16s41.088 109.92 96.384 124.16v547.808a32 32 0 0 0 64 0v-547.84a128.48 128.48 0 0 0 96.288-124.16 128.544 128.544 0 0 0-96.288-124.128z m-31.648 188.16L896.384 384l-0.416 0.032c-35.168-0.192-63.712-28.832-63.712-64.032s28.544-63.84 63.68-64.032l0.416 0.032 0.352-0.032A64.128 64.128 0 0 1 960.352 320a64.064 64.064 0 0 1-63.648 64.032z" />
                                </Path.Data>
                            </Path>
                        </Button>
                        <Slider x:Name="MainVolume" Maximum="100" ValueChanged="MainVolume_ValueChanged" Style="{StaticResource MaterialDesignDiscreteSlider}" Foreground="#FFB9B7B7" Margin="0,0,10,4"/>
                    </Grid>
                    <Grid Grid.Column="1" Margin="148,0,0,10" Grid.ColumnSpan="2">
                        <Grid HorizontalAlignment="Center" VerticalAlignment="Center" MinHeight="70" MinWidth="440" MaxWidth="800">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <StackPanel x:Name="StackPanel" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left">
                                <AdornerDecorator>
                                    <materialDesign:Card   x:Name="ImageAlbumArtBG" 
                        materialDesign:ShadowAssist.ShadowDepth="Depth0" 
                        Width="45" Height="45" Margin="5,10,5,5" 
                        HorizontalAlignment="Left" VerticalAlignment="Center">
                                        <materialDesign:Card.Effect>
                                            <!--A copy of MaterialDesignShadowDepth1-->
                                            <DropShadowEffect x:Name="DropShadowEffect" BlurRadius="5" ShadowDepth="1" Direction="270" Color="{StaticResource MaterialDesignShadow}" Opacity=".42" RenderingBias="Performance" />
                                        </materialDesign:Card.Effect>

                                        <materialDesign:Card.Triggers>
                                            <!--Values taken from MaterialDesignShadowDepth4 -->
                                            <EventTrigger RoutedEvent="FrameworkElement.MouseEnter">
                                                <BeginStoryboard>
                                                    <Storyboard TargetName="DropShadowEffect">
                                                        <DoubleAnimation Storyboard.TargetProperty="BlurRadius" To="10" Duration="0:0:0.5" />
                                                        <DoubleAnimation Storyboard.TargetProperty="ShadowDepth" To="8" Duration="0:0:0.5" />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                            <!--Values taken from MaterialDesignShadowDepth1 -->
                                            <EventTrigger RoutedEvent="FrameworkElement.MouseLeave">
                                                <BeginStoryboard>
                                                    <Storyboard TargetName="DropShadowEffect">
                                                        <DoubleAnimation Storyboard.TargetProperty="BlurRadius" To="5" Duration="0:0:0.5" />
                                                        <DoubleAnimation Storyboard.TargetProperty="ShadowDepth" To="1" Duration="0:0:0.5" />
                                                    </Storyboard>
                                                </BeginStoryboard>
                                            </EventTrigger>
                                        </materialDesign:Card.Triggers>
                                        <Image x:Name="ImageAlbumArt" Stretch="UniformToFill" Margin="0"/>
                                    </materialDesign:Card>
                                </AdornerDecorator>
                            </StackPanel>

                            <Grid MinWidth="300" Grid.ColumnSpan="2" Margin="70,0,10,0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="3*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid Grid.Row="0">
                                    <Label x:Name="LabelTime" Content="" HorizontalAlignment="Left" VerticalAlignment="Bottom"/>
                                    <Label x:Name="LabelTitle" Content="" HorizontalAlignment="Center" VerticalAlignment="Top" FontSize="14"/>
                                    <Label x:Name="LabelArtist" Content="" HorizontalAlignment="Center" VerticalAlignment="Bottom" Opacity="0.67" FontSize="10"/>
                                    <Label x:Name="LabelLeftTime" Content="" HorizontalAlignment="Right" VerticalAlignment="Bottom"/>
                                    <Button Style="{StaticResource MaterialDesignFlatButton}" HorizontalAlignment="Right" VerticalAlignment="Top" Height="20" Width="20">
                                        <Viewbox Stretch="UniformToFill" Height="20" Width="20">
                                            <Canvas Name="svg3692" Width="20" Height="20">
                                                <Canvas.RenderTransform>
                                                    <TranslateTransform X="0" Y="0"/>
                                                </Canvas.RenderTransform>
                                                <Canvas.Resources/>
                                                <Path Stretch="UniformToFill" Width="20" Height="20" Name="path3684" Fill="#FF2687FB">
                                                    <Path.Data>
                                                        <PathGeometry Figures="M815.045407 826.541813c-18.198218-20.869307-76.860685-88.349187-110.542175-127.250172l68.990106 0L773.493338 185.452759l84.138744 0 0 513.839905 67.838838 0C892.265287 737.579665 834.40001 804.258297 815.045407 826.541813z" FillRule="NonZero"/>
                                                    </Path.Data>
                                                </Path>
                                                <Path Stretch="UniformToFill" Width="20" Height="20" Name="path3686" Fill="#FF2687FB">
                                                    <Path.Data>
                                                        <PathGeometry Figures="M64.491463 689.618327l483.5468 0 0 58.014298-483.5468 0 0-58.014298Z" FillRule="NonZero"/>
                                                    </Path.Data>
                                                </Path>
                                                <Path Stretch="UniformToFill" Width="20" Height="20" Name="path3688" Fill="#FF2687FB">
                                                    <Path.Data>
                                                        <PathGeometry Figures="M64.491463 456.056873l576.145571 0 0 58.014298-576.145571 0 0-58.014298Z" FillRule="NonZero"/>
                                                    </Path.Data>
                                                </Path>
                                                <Path Stretch="UniformToFill" Width="20" Height="20" Name="path3690" Fill="#FF2687FB">
                                                    <Path.Data>
                                                        <PathGeometry Figures="M64.491463 222.490304l576.145571 0 0 58.014298-576.145571 0 0-58.014298Z" FillRule="NonZero"/>
                                                    </Path.Data>
                                                </Path>
                                            </Canvas>
                                        </Viewbox>
                                    </Button>
                                </Grid>
                                <Slider Grid.Row="1" 
                                    x:Name="MainProgressBar"
                                    VerticalAlignment="Bottom"
                                    MouseUp="MainProgressBar_MouseUp"
                                    IsMoveToPointEnabled="True" 
                                    Thumb.DragCompleted="MainProgressBar_DragCompleted" 
                                    Thumb.DragStarted="MainProgressBar_DragStarted"
                                    Foreground="#FFB9B7B7" Margin="0,0,0,4"/>
                            </Grid>

                        </Grid>
                    </Grid>
                    <materialDesign:ColorZone Grid.Column="3" Mode="Standard" Padding="8 4 8 4" CornerRadius="2" Panel.ZIndex="1"
                                   Margin="10,12,5,0"
                                   materialDesign:ShadowAssist.ShadowDepth="Depth1">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <Button Style="{DynamicResource MaterialDesignToolButton}">
                                <materialDesign:PackIcon Kind="Magnify" Opacity=".56" />
                            </Button>
                            <TextBox x:Name="TextBox_Search" Grid.Column="1" Margin="8 0 0 0"
                                     materialDesign:HintAssist.Hint="请输入搜索内容" 
                                     materialDesign:TextFieldAssist.DecorationVisibility="Hidden" BorderThickness="0"
                                     
                                     MinWidth="200" VerticalAlignment="Center" TextChanged="TextBox_Search_TextChanged" TextInput="TextBox_Search_TextInput" />
                            <Button x:Name="Btn_Search" Style="{DynamicResource MaterialDesignToolButton}"
                                Grid.Column="2" Visibility="Hidden"
                                Click="Btn_Search_Click" GotFocus="Btn_Search_GotFocus" LostFocus="Btn_Search_LostFocus">
                                <materialDesign:PackIcon Kind="CloseCircleOutline" Opacity=".56" Margin="8 0 0 0" />
                            </Button>
                        </Grid>
                    </materialDesign:ColorZone>
                </Grid>
            </materialDesign:ColorZone>
            <ScrollViewer Grid.Row="2" Grid.ColumnSpan="2">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition MaxWidth="400"/>
                        <ColumnDefinition Width="1*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition MaxHeight="220"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <materialDesign:PopupBox x:Name="PopupBox_List" Margin="343,162,0,24" StaysOpen="True" Width="47" Background="White" BorderBrush="Black" Panel.ZIndex="1" RenderTransformOrigin="0.5,0.5">
                        <Grid MaxHeight="200" Width="300" Margin="8,8,8,8" Background="White" OpacityMask="Black">
                            <TabControl Style="{DynamicResource DMTopTabControl}">
                                <TabItem Header="接着播放" Style="{DynamicResource DMTopTabItemLeft}">
                                    <ScrollViewer>
                                        <ListBox>
                                            <ListBoxItem>A</ListBoxItem>
                                            <ListBoxItem>A</ListBoxItem>
                                            <ListBoxItem>A</ListBoxItem>
                                            <ListBoxItem>A</ListBoxItem>
                                            <ListBoxItem>A</ListBoxItem>
                                            <ListBoxItem>A</ListBoxItem>
                                            <ListBoxItem>A</ListBoxItem>
                                            <ListBoxItem>A</ListBoxItem>
                                        </ListBox>
                                    </ScrollViewer>
                                </TabItem>
                                <TabItem Header="历史记录" Style="{DynamicResource DMTopTabItemRight}">
                                    <ScrollViewer>
                                        <ListBox>
                                            <ListBoxItem>A</ListBoxItem>
                                            <ListBoxItem>A</ListBoxItem>
                                            <ListBoxItem>A</ListBoxItem>
                                            <ListBoxItem>A</ListBoxItem>
                                            <ListBoxItem>A</ListBoxItem>
                                            <ListBoxItem>A</ListBoxItem>
                                            <ListBoxItem>A</ListBoxItem>
                                            <ListBoxItem>A</ListBoxItem>
                                        </ListBox>
                                    </ScrollViewer>
                                </TabItem>
                            </TabControl>
                        </Grid>
                    </materialDesign:PopupBox>
                    <materialDesign:Card Grid.Column="0" Grid.Row="0" materialDesign:ShadowAssist.ShadowDepth="Depth5" Height="228" Margin="5,5,5,5" MaxHeight="210" MaxWidth="420" Background="#7FFFFFFF">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>
                            <Image x:Name="ImageAlbumArtBig" Grid.Column="0" Height="200" Width="200" Stretch="UniformToFill" Margin="-1,0,0,0"  Opacity="0" MouseLeftButtonDown="ImageAlbumArtBig_MouseLeftButtonDown">
                                <Image.RenderTransform>
                                    <TranslateTransform>
                                    </TranslateTransform>
                                </Image.RenderTransform>
                            </Image>

                            <Grid Grid.Column="1">
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Label Grid.Row="0" FontSize="18" Background="Transparent" HorizontalAlignment="Center" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" VerticalAlignment="Center">
                                    <TextBlock x:Name="LabelTitleForCard" TextWrapping="Wrap" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                </Label>
                                <Label Grid.Row="1" FontSize="16" HorizontalAlignment="Center" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" VerticalAlignment="Center">
                                    <TextBlock x:Name="LabelAlbumForCard" TextWrapping="Wrap"  Foreground="#FF727275" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Label>
                                <Label Grid.Row="2" FontSize="18" HorizontalAlignment="Center" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" VerticalAlignment="Center">
                                    <TextBlock x:Name="LabelArtistForCard" TextWrapping="Wrap" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Label>
                            </Grid>
                        </Grid>
                    </materialDesign:Card>
                    <materialDesign:Card x:Name="ListViewCard"   
                                             Grid.Column="1" Grid.Row="0" Grid.RowSpan="2"
                                         materialDesign:ShadowAssist.ShadowDepth="Depth3" 
                                         Padding="0" Margin="5,5,5,0"
                                         Background="#4CFFFFFF"
                                         >
                        <!--播放列表-->
                        <Grid >
                            <Grid.RowDefinitions>
                                <RowDefinition Height="40"/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <!--标题-->
                            <Grid Grid.Row="0" MinWidth="220" MinHeight="40" HorizontalAlignment="Center" VerticalAlignment="Center" >
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="70"/>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition Width="50"/>
                                    <ColumnDefinition Width="50"/>
                                </Grid.ColumnDefinitions>
                                <Button Style="{StaticResource TabButton}" BorderBrush="{x:Null}" Grid.Column="0" Foreground="White" Background="#FF2687FB" Margin="2,0" Height="30">
                                    资料库
                                </Button>
                                <Button Style="{StaticResource TabButton}" BorderBrush="{x:Null}" Background="{x:Null}" 
                                    Grid.Column="1" Foreground="#FF767676" Margin="2,0" Height="30">
                                    艺人
                                </Button>
                                <Button Style="{StaticResource TabButton}" BorderBrush="{x:Null}" Background="{x:Null}"
                                    Grid.Column="2" Foreground="#FF767676" Margin="2,0" Height="30">
                                    专辑
                                </Button>
                                <Button Style="{StaticResource TabButton}" BorderBrush="{x:Null}" Background="{x:Null}"
                                    Grid.Column="3" Foreground="#FF767676" Margin="2,0" Height="30">
                                    文件
                                </Button>
                            </Grid>
                            <!--展示-->
                            <DataGrid x:Name="tb1"
                                Grid.Row="1" Background="#33FFFFFF"
                                      CanUserSortColumns="True" CanUserAddRows="False" AutoGenerateColumns="True"
                      materialDesign:DataGridAssist.CellPadding="0 0 0 0" 
                                      materialDesign:DataGridAssist.ColumnHeaderPadding="5" 
                                      VerticalAlignment="Top" 
                                      IsSynchronizedWithCurrentItem="True"
                                       MaxHeight="40" MinHeight="40" Height="597"
                                      >
                                <DataGrid.Columns>
                                    <DataGridCheckBoxColumn Binding="{Binding IsSelected}" 
                                            ElementStyle="{StaticResource MaterialDesignDataGridCheckBoxColumnStyle}"
                                            EditingElementStyle="{StaticResource MaterialDesignDataGridCheckBoxColumnEditingStyle}"
                                            >
                                        <DataGridCheckBoxColumn.Header>
                                            <Border Background="Transparent" Padding="6 0 6 0" HorizontalAlignment="Center">
                                                <CheckBox HorizontalAlignment="Center"                                               
                                          DataContext="{Binding DataContext, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"
                                          IsChecked="{Binding IsAllItems3Selected}" />
                                            </Border>
                                        </DataGridCheckBoxColumn.Header>
                                    </DataGridCheckBoxColumn>
                                    <materialDesign:DataGridTextColumn Binding="{Binding TITLE}"
                                        Header="名称"
                                        EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnEditingStyle}" Width="3*"/>
                                    <materialDesign:DataGridTextColumn Binding="{Binding ARTIST}" Width="2*"
                                                               Header="艺人"                                                        
                                                               EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnPopupEditingStyle}" 
                                                               />
                                    <materialDesign:DataGridTextColumn Binding="{Binding ALBUM}" Width="3*"
                                                               Header="专辑"                                                        
                                                               MaxLength="255" 
                                                               EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnPopupEditingStyle}"  />
                                    <materialDesign:DataGridTextColumn Binding="{Binding TotalTime}" Width="2*"
                                                        Header="时长"                                                         
                                                        EditingElementStyle="{StaticResource MaterialDesignDataGridTextColumnPopupEditingStyle}">
                                        <materialDesign:DataGridTextColumn.HeaderStyle>
                                            <Style TargetType="{x:Type DataGridColumnHeader}" BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                <Setter Property="HorizontalAlignment" Value="Right" />
                                            </Style>
                                        </materialDesign:DataGridTextColumn.HeaderStyle>
                                        <materialDesign:DataGridTextColumn.ElementStyle>
                                            <Style TargetType="{x:Type TextBlock}">
                                                <Setter Property="HorizontalAlignment" Value="Right" />
                                            </Style>
                                        </materialDesign:DataGridTextColumn.ElementStyle>
                                    </materialDesign:DataGridTextColumn>
                                </DataGrid.Columns>
                            </DataGrid>

                        </Grid>
                        
                    </materialDesign:Card>
                    <materialDesign:Card Grid.Column="0" Grid.Row="1"
                                         materialDesign:ShadowAssist.ShadowDepth="Depth3"          
                             Margin="5,5,5,5"
                                         Background="#4CFFFFFF"
                                         >
                        <StackPanel>
                            <Expander Header="查看简介" HorizontalAlignment="Stretch" Background="#4CFFFFFF">
                                <StackPanel Orientation="Vertical" Margin="10,8,25,10" >
                                    <ListView Opacity=".68">
                                        <ListViewItem Content="   比特率" x:Name="ListViewItemBit"></ListViewItem>
                                        <ListViewItem Content="   采样率" x:Name="ListViewItemRate"></ListViewItem>
                                        <ListViewItem Content="修改时间" x:Name="ListViewItemWriteTime" Margin="0,5,0,0"></ListViewItem>
                                        <ListViewItem Content="添加时间" x:Name="ListViewItemAddTime"></ListViewItem>
                                        <ListViewItem Content="文件大小" x:Name="ListViewItemFileSize" Margin="0,5,0,0"></ListViewItem>
                                        <ListViewItem Content="文件位置" x:Name="ListViewItemFilePath"></ListViewItem>
                                    </ListView>
                                    <Button x:Name="BtnSaveInfo" 
                                            Content="拷贝信息至" 
                                            HorizontalAlignment="Right" 
                                            BorderBrush="#FF2687FB" 
                                            Background="#FF2687FB" 
                                            Width="110"
                                            Click="BtnSaveInfo_Click"/>
                                </StackPanel>
                            </Expander>
                            <Expander Header="歌词" Background="#4CFFFFFF">
                                <Grid Margin="2" MinHeight="300">
                                    <Grid.RowDefinitions>
                                        <RowDefinition/>
                                        <RowDefinition/>
                                    </Grid.RowDefinitions>
                                    <materialDesign:PopupBox x:Name="BtnOpenLyric" Style="{StaticResource MaterialDesignMultiFloatingActionPopupBox}"
                                     PlacementMode="TopAndAlignCentres"
                                     UnfurlOrientation="Horizontal"
                                         ToolTipService.Placement="Right"
                                         ToolTip="关于歌词操作更多" Background="#FF2687FB" BorderBrush="#FF2387FF" Panel.ZIndex="1" Grid.Row="1" VerticalAlignment="Bottom" HorizontalAlignment="Right" Margin="0,0,20,10"
                                         >
                                        <StackPanel>
                                            <Button x:Name="BtnOpenLyricEX"  BorderBrush="#FF2387FF" Opacity="0.7" Click="BtnOpenLyricEX_Click" ToolTip="打开歌词">
                                                <materialDesign:PackIcon Kind="File" />
                                            </Button>
                                            <Button x:Name="BtnSearchLyric" BorderBrush="#FF2387FF" Opacity="0.6" Click="BtnOpenLyricEX_Click" ToolTip="在线搜索歌词">
                                                <materialDesign:PackIcon Kind="Magnify" />
                                            </Button>
                                        </StackPanel>
                                    </materialDesign:PopupBox>
                                    <StackPanel Margin="28,0,20,208" Grid.Row="0" Name="BaseLineSP">
                                        <Line Stroke="Black" StrokeThickness="2" StrokeDashArray="4,2" X1="0" X2="{Binding ElementName=CanvasLyric, Path=ActualWidth}" Y2="0" Name="BaseLine" Visibility="Collapsed" Fill="{x:Null}" OpacityMask="{x:Null}" Y1="0" Grid.ColumnSpan="2" Height="4" />
                                        <TextBlock Name="tbDragTime" Text="0.00.00" TextAlignment="Left" Foreground="Black" FontSize="14" Visibility="Collapsed" Width="{Binding ElementName=CanvasLyric, Path=ActualWidth}" />
                                    </StackPanel>
                                    <Canvas Margin="10,10,10,10" x:Name="CanvasLyric" ClipToBounds="True" Background="White" Grid.RowSpan="2">
                                        <StackPanel x:Name="StackPanelCommonLyric"  Canvas.Left="0" Canvas.Top="300" Width="{Binding ActualWidth, ElementName=CanvasLyric, Mode=OneWay}" OpacityMask="Black" />
                                        <Canvas x:Name="CanvasFocusLyric"  Height="36"  Canvas.Left="0" Canvas.Top="253" Width="{Binding ActualWidth, ElementName=CanvasLyric, Mode=OneWay}" Background="{x:Null}" OpacityMask="Black" ClipToBounds="True">
                                            <TextBlock x:Name="TBFocusLyricBack" Text="" Height="{Binding Height, ElementName=CanvasFocusLyric}" Width="{Binding ActualWidth, ElementName=CanvasLyric, Mode=OneWay}" FontSize="22" TextAlignment="Center" Foreground="White" OpacityMask="Black" />
                                            <Canvas x:Name="CanvasFocusLyricFore" Height="{Binding Height, ElementName=CanvasFocusLyric}" Width="30" ClipToBounds="True" OpacityMask="Black">
                                                <TextBlock x:Name="TBFocusLyricFore" Text="{Binding Text, ElementName=TBFocusLyricBack}" Height="{Binding Height, ElementName=CanvasFocusLyric}" FontSize="{Binding FontSize, ElementName=TBFocusLyricBack}" TextAlignment="{Binding TextAlignment, ElementName=TBFocusLyricBack}" Foreground="Black" FontFamily="{Binding FontFamily, ElementName=TBFocusLyricBack}" Width="{Binding ActualWidth, ElementName=CanvasLyric, Mode=OneWay}" Visibility="{Binding Visibility, ElementName=TBFocusLyricBack}" TextWrapping="{Binding TextWrapping, ElementName=TBFocusLyricBack}" TextTrimming="{Binding TextTrimming, ElementName=TBFocusLyricBack}" OpacityMask="Black" />
                                            </Canvas>
                                        </Canvas>
                                    </Canvas>
                                </Grid>
                            </Expander>
                        </StackPanel>
                    </materialDesign:Card>

                </Grid>
            </ScrollViewer>
        </Grid>
    </Grid>
</fw:AcrylicWindow>
